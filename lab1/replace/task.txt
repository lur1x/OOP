Вариант №4 – replace – 80 баллов
Разработайте программу replace.exe, выполняющую замену всех вхождений подстроки в текстовом файле
на другую строку, и записывающую результат в выходной файл (отличный от входного).

Программа должна поддерживать три режима работы:

Ввод через командную строку:
replace.exe <input file> <output file> <search string> <replace string>
Ввод через stdin: Если программа запускается без параметров, она должна принимать первой строкой
искомую строку, второй строкой - строку-заменитель, затем текст для замены.
ma
mama
mama delala pelmeni
ya pokushal plotno
где "ma" - искомая строка, "mama" - строка-заменитель, "mama delala pelmeni ya pokushal plotno" -
текст для замены.

Справка: Если программа запускается с параметром -h, она должна вывести краткую справку об
использовании и завершить выполнение.
Программа должна корректно обрабатывать ошибки, связанные с открытием входных и выходных файлов.

Размеры входных и выходных файлов таковы, что в оперативную память программы могут не поместиться
целиком. Программа должна обрабатывать входной файл построчно и записывать результаты в выходной
файл также построчно. Размеры искомой строки и строки-заменителя не ограничены (но с большой
вероятностью в ОЗУ поместятся).

Внимание, программа корректно должна обрабатывать ситуацию, когда длина искомой строки равна нулю.
В этом случае замены символов производиться не должно. Также корректно должна обрабатываться ситуация
с многократным вхождением искомой строки в строку-заменитель (например, замена строки «ма» на «мама»
не должна приводить к зацикливанию).

В случае ошибки программа должна вести себя по-разному в зависимости от способа запуска:

Если программа запущена с параметрами командной строки, она должна вывести в стандартный поток вывода
«ERROR» и завершиться с кодом возврата 1.
Если программа запущена без параметров (режим stdin), она должна вывести в стандартный поток вывода «
ERROR» и завершиться с кодом возврата 0. Это необходимо для корректного тестирования программы в
системе Яндекс.Contest. Ошибка возникает, когда пользователь не ввёл искомую строку либо строку
заменитель, а завершил ввод комбинацией клавиш Ctrl+Z под Windows или Ctrl+D под Linux.
Пример 1
Ввод:

ma
mama
mama delala pelmeni
Вывод:

mamamama delala pelmeni
Объяснение: "ma" заменяется на "mama".

Пример 2
Ввод:

1231234
XYZ
12312312345
Вывод:

123XYZ5
Объяснение: "1231234" заменяется на "XYZ".

Пример 3
Ввод:

tam
tut text
Вывод:

tut text
Объяснение: программа выведет исходный текст, так как первый параметр (искомая строка) — пустая
строка.

Пример 4
Ввод:

hello
Вывод:

ERROR
Объяснение: вместо строки-заменителя пользователь ввёл символ конца файла.

Примечание
В комплекте с программой должны обязательно поставляться файлы, позволяющие проверить ее работу
в автоматическом режиме:

.bat файл, выполняющий запуск программы с различными тестовыми параметрами. Необходимо проверить
возможные граничные условия программы, включая недопустимые ситуации.
Эталонные входные и выходные файлы для проверки работы программы с тестовыми входными данными.
Внимание: из опыта автора сдаваемые студентами работы часто некорректно обрабатывают ситуацию с
возвратом при неудачном поиске. Из-за этого не работает замена подстроки «1231234» внутри текста
«12312312345». Добавьте обработку данной ситуации в набор тестов и убедитесь в корректности работы
программы.

