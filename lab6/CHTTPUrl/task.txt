Вариант 7 – HTTP URL – 100 баллов
Разработайте класс CHttpUrl, выполняющий хранение http и https – URL-ов. В конструкторе класса
должны осуществляться проверка валидности входных параметров.

Каркас класса:

enum class Protocol
{
    HTTP,
    HTTPS
};

class CUrlParsingError : public std::invalid_argument
{
public:
    …
};

class CHttpUrl
{
public:
    // выполняет парсинг строкового представления URL-а, в случае ошибки парсинга
    // выбрасывает исключение CUrlParsingError, содержащее текстовое описание ошибки
    CHttpUrl(std::string const& url);

    /* инициализирует URL на основе переданных параметров.
        При недопустимости входных параметров выбрасывает исключение
        std::invalid_argument
        Если имя документа не начинается с символа /, то добавляет / к имени документа
    */
    CHttpUrl(
        std::string const& domain,
        std::string const& document,
        Protocol protocol = HTTP);

    /* инициализирует URL на основе переданных параметров.
        При недопустимости входных параметров выбрасывает исключение
        std::invalid_argument
        Если имя документа не начинается с символа /, то добавляет / к имени документа
    */
    CHttpUrl(
        std::string const& domain,
        std::string const& document,
        Protocol protocol,
        Unsigned short port);

    // возвращает строковое представление URL-а. Порт, являющийся стандартным для
    // выбранного протокола (80 для http и 443 для https) в эту строку
    // не должен включаться
    std::string GetURL()const;

    // возвращает доменное имя
    std::string GetDomain()const;

    /*
        Возвращает имя документа. Примеры:
            /
            /index.html
            /images/photo.jpg
    */
    std::string GetDocument()const;

    // возвращает тип протокола
    Protocol GetProtocol()const;

    // возвращает номер порта
    unsigned short GetPort()const;
};
Классы CUrlParsingError и CHttpUrl должны располагаться в разных парах .h/.cpp файлов.

Конструктор класса должен анализировать входные параметры и выбрасывать нужный тип исключений в
случае ошибок.

На основе данного класса напишите приложение, считывающее со стандартного потока ввода URL-ы и
выводящее информацию об URL-е в стандартный поток вывода, пока не встретит символ конца файла.
Исключения, выбрасываемые классом должны перехватываться программой, и в стандартный поток вывода
должна выводиться информация об ошибке обработки URL-а.

Для класса CHttpUrl должен быть разработан набор автоматических тестов, проверяющих работу его
методов и конструктора как на корректных, так и некорректных наборах данных. Рекомендуется
использование библиотек и фреймворков для написания тестов, например, boost::test, Google Test,
CxxTest и других. Без тестов работа будет принята с коэффициентом не выше 0.3.

Требования

Регистр записи символов протокола URL значения не имеет. HtTps и https — это валидные URL-ы.
Допустимые значения портов: от 1 до 65535 включительно.